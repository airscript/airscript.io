<!doctype html>
<html>
  <head></head>
  <meta charset='utf-8' />
  <title>Airscript.io</title>
  <link type="text/css" rel="stylesheet" media="screen" href="/stylesheets/bootstrap.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="/stylesheets/bootstrap-responsive.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="/stylesheets/font-awesome.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="/stylesheets/normalize.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="/stylesheets/all.css" />
  <script type="text/javascript" src="/javascripts/all.js"></script>
  <body>
    <section class='content'>
  <div class='row-fluid'>
    <div class='scripts'>
      <h2 class='brand'>Airscript</h2>
      <div class='settings dropdown pull-right'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>
          <i class='icon-cog'></i>
        </a>
        <ul class='dropdown-menu'>
          <li>
            <a class='menuitem' href='#'>
              <img class='avatar' data-bind='attr:{src: avatarSrc()}' />
              <span class='user_name' data-bind='text: userName()'></span>
            </a>
          </li>
          <li class='divider'></li>
          <li>
            <a class='menuitem' href='/auth/logout'>Sign out</a>
          </li>
        </ul>
      </div>
      <ul class='files' data-bind='foreach: scriptsPanel.files()'>
        <li class='script' data-bind='css: activeClass, click: $parent.scriptsPanel.selectScript'>
          <span class='script_name' data-bind='text: name'></span>
        </li>
      </ul>
      <a class='new_file' data-bind='click: scriptsPanel.createNewFile' href='#'>Create New File</a>
    </div>
    <div class='edit main'>
      <div class='editor_container'>
        <div class='header'>
          <div class='file'>
            <a class='fullscreen btn' data-bind='click: toggleFullscreen'>
              <i class='icon-resize-full'></i>
            </a>
            <div class='dropdown'>
              <a class='btn link dropdown-toggle' data-bind='click: selectFullPath' data-toggle='dropdown' href='#'>
                <i class='icon-link'></i>
              </a>
              <ul class='dropdown-menu' role='menu'>
                <li class='script_path' data-bind="attr: {'data-clipboard-text': fullScriptPath}">
                  <input class='full_script_path' data-bind='value: fullScriptPath' />
                </li>
              </ul>
            </div>
            <input class='edit_script' data-bind='visible: scriptEditing(), selected: true, value: scriptName(), event: { keypress: scriptsPanel.stopEditing }' />
            <h3 class='name' data-bind='text: scriptName(), visible: !scriptEditing(), click: scriptsPanel.editScript'></h3>
          </div>
          <div class='btn-group script_actions'>
            <button class='btn save_all' data-bind='click: scriptsPanel.updateGist, visible: scriptsPanel.hasScripts()' title='Save script'>
              <i class='icon-save'></i>
            </button>
            <button class='btn' data-bind='click: scriptsPanel.editScript, visible: scriptsPanel.hasScripts()' title='Edit script name'>
              <i class='icon-edit'></i>
            </button>
            <button class='btn' data-bind='click: scriptsPanel.deleteScript, visible: scriptsPanel.hasScripts()' title='Delete script'>
              <i class='icon-trash'></i>
            </button>
          </div>
        </div>
        <div data-bind="ace: scriptSource(), aceOptions: { mode: 'lua', theme: 'github' }" id='editor'></div>
        <textarea class='hidden' data-bind='value: scriptSource()'></textarea>
      </div>
    </div>
  </div>
</section>
<div class='engine_deploy_curtain hidden'></div>
<div class='engine_deploy_spinner hidden'>We're working on creating your Airscript Engine. It won't be long now.</div>
<script type='text/javascript'>
  //<![CDATA[
    (function() {

  Airscript.init();

}).call(this);

  //]]>
</script>
  </body>
</html>
